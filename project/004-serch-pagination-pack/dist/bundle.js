!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t){var n,i,r,a,o,c,d,s,l,u,p,f,m,v,g,h={init:function(e){n=document.querySelector(e.el),i=e.currentPage||1,a=e.totalCount,o=e.limit,c=e.maxBtnLength,r=e.pageOnclick,s=e.start,l=e.end,u=e.next,p=e.prev,d=Math.ceil(a/o),function(){if(n.innerHTML="",f=document.createElement("fieldset"),n.appendChild(f),s||p){if(m=document.createElement("fieldset"),s){var e=document.createElement("button");e.innerText="首页",e.dataset.page=1,e.classList.add("pager"),m.appendChild(e)}if(p){var t=document.createElement("button");t.innerText="上一页",t.dataset.page=i-1,t.classList.add("pager"),m.appendChild(t)}f.appendChild(m)}if(v=document.createElement("fieldset"),f.appendChild(v),L(),l||u){if(g=document.createElement("fieldset"),u){var a=document.createElement("button");a.innerText="下一页",a.dataset.page=i+1,a.classList.add("pager"),g.appendChild(a)}if(l){var o=document.createElement("button");o.innerText="尾页",o.dataset.page=d,o.classList.add("pager"),g.appendChild(o)}f.appendChild(g)}y(m),y(g),1==i&&E(m);i==d&&E(g);document.querySelectorAll(".pager").forEach(function(e){e.addEventListener("click",function(e){if(i!=parseInt(e.currentTarget.dataset.page)){var t=parseInt(e.currentTarget.dataset.page);!function(e,t){i=e,E(f),r&&r(i,t),L(),y(f)}(t,e)}})})}()}};function L(){i<1?i=1:i>d&&(i=d),v.innerHTML="";var e,t,n=Math.ceil(c/2);i<=n?(e=1,t=c):i>=d-n?(e=d-c,t=d):(e=i-(n-1),t=i+(n-1)),d<c&&(t=d);for(var r=e;r<=t;r++){var a=document.createElement("button");a.innerText=r,a.dataset.page=r,a.classList.add("pager"),a.disabled=!1,r==i&&(a.style.background="#fefefe",a.disabled=!0),v.appendChild(a)}}function E(e){e.disabled=!0}function y(e){e.disabled=!1}e.exports=h},function(e,t){e.exports={set:function(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n)},get:function(e){var t=localStorage.getItem(e);return JSON.parse(t)}}},function(e,t){e.exports={findAndDelete:function(e,t){var n=e.indexOf(t);return-1!=n&&(e.splice(n,1),!0)}}},function(e,t,n){var i,r,a,o=n(2),c=n(1),d=[],s={add:function(e){o.findAndDelete(d,e),d.unshift(e),u(),l()},remove:p,clear:f,init:function(e){if(i=document.querySelector(e.el),r=e.onClick,a=e.onDelete,!e.el||!i)throw"Invalid root element";d=c.get("history_list")||[],l()}};function l(){i.innerHTML="",d.length>5&&(d=d.slice(0,5)),d.forEach(function(e){var t=document.createElement("div");t.innerHTML=`\n    <div class="text">${e}</div>\n    <div class="tool">\n      <span class="delete">删除</span>\n    </div>\n    `,t.classList.add("history"),i.appendChild(t),t.addEventListener("click",function(t){r&&r(e,t),i.hidden=!0}),t.querySelector(".delete").addEventListener("click",function(t){t.stopPropagation(),a&&a(e,t),p(e)})});var e=document.createElement("div");e.innerHTML="清空历史记录",e.classList.add("clear-history-list"),i.appendChild(e),e.addEventListener("click",function(e){f()}),0==d.length&&(e.hidden=!0)}function u(){c.set("history_list",d)}function p(e){o.findAndDelete(d,e),u(),l()}function f(){d=[],u(),l()}e.exports=s},function(e,t){e.exports={searchUser:function(e,t,n){e=Object.assign({},{keyword:"",page:1,limit:5},e),n=n||"get";var i=new XMLHttpRequest;i.open(n,"https://api.github.com/search/users?q="+e.keyword+"&page="+e.page+"&per_page="+e.limit),i.setRequestHeader("Authorization","Basic "+btoa("YzzzzzzzzzzZ:28236ab9a5313fddca330f3791b1d002bace04e5")),i.send(),i.addEventListener("load",function(){e.resetUserList&&(e.userList.innerHTML="");var n=JSON.parse(this.responseText);t(n)})}}},function(e,t){var n=document.getElementById("search-form"),i=document.getElementById("search-input"),r=document.getElementById("user-list"),a=document.getElementById("top"),o=document.getElementById("placeholer"),c=document.getElementById("amount"),d=document.getElementById("history-list"),s=document.getElementById("pagination-container");e.exports={form:n,input:i,placeholer:o,userList:r,top:a,history:d,renderUserList:function(e,t,n){var i=r.innerHTML;s.hidden=!0,e.forEach(function(e){i+=`\n        <div class="user">\n          <a class="avatar" target="_blank" href="${e.html_url}">\n            <img src="${e.avatar_url}">\n          </a>\n          <div class="info">\n            <div class="username">${e.login}</div>\n            <div><a target="_blank" href="${e.html_url}">${e.html_url}</a></div>\n          </div>\n        </div>\n        `}),r.innerHTML=i,c.innerHTML="共有"+t+"条结果",s.hidden=!1}}},function(e,t,n){var i,r,a=n(5),o=n(4),c=n(3),d=n(0),s=a.input.value,l=15;function u(){a.form.addEventListener("submit",function(e){e.preventDefault(),p(),f(),v()})}function p(){i=1}function f(){a.userList.innerHTML=""}function m(){a.top.addEventListener("click",function(){window.scrollTo(0,0)})}function v(){a.top.click(),o.searchUser({keyword:a.input.value,page:i,limit:l,userList:a.userList,resetUserList:!0},function(e){var t=e.items;r=e.total_count,s=a.input.value,r>1e3&&(r=1e3),a.renderUserList(t,r),d.init({el:"#pagination-container",currentPage:i,totalCount:r,limit:l,maxBtnLength:7,start:!0,end:!0,next:!0,prev:!0,pageOnclick:function(e,t){i=e,v()}}),c.add(s)})}e.exports={addEvents:function(){u(),m(),c.init({el:"#history-list",onClick:function(e,t){a.input.value=e,p(),f(),v()}}),a.input.addEventListener("focus",function(){a.history.hidden=!1}),document.documentElement.addEventListener("click",function(e){var t=e.target,n=t.closest("#search-input"),i=t.closest("#history-list");n||i||(a.history.hidden=!0)})},detectSubmit:u,detectTop:m,resetPage:p}},function(e,t,n){n(6).addEvents()}]);